name: apollo-static

deployment:
  type: awsApi@1.0

containers:
  service:
    src: ./service
    routing:
      pathPattern: /*
      pathHealthCheck: /health
    environment:
      NODE_ENV: production
      APOLLO_ROUTER_URL: http://localhost:4000/graphql  # Update with actual GraphQL API URL
    compute:
      # Using Fargate by default since SSR with Apollo Client
      # can generate large bundles that may hit Lambda limits
      type: awsFargateEcs
